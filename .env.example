# FlowForge Environment Configuration
# Copy this file to .env and update the values

# ===========================================
# General Settings
# ===========================================
ENVIRONMENT=development
LOG_LEVEL=debug
TZ=UTC

# App version (overrides package.json if set)
# APP_VERSION=1.0.0

# Build timestamp (set during CI/CD)
# BUILD_TIME=2026-01-24T00:00:00Z

# ===========================================
# Client Configuration (Vite build-time)
# ===========================================
# Browser-side API base URL (Kong gateway)
# If not set, uses current hostname with port 8000
# VITE_API_BASE_URL=http://localhost:8000

# Override just the port for browser API calls (default: 8000)
# VITE_API_PORT=8000

# ===========================================
# Kong Gateway
# ===========================================
KONG_DATABASE=postgres
KONG_PG_HOST=postgres
KONG_PG_PORT=5432
KONG_PG_USER=kong
KONG_PG_PASSWORD=kong_password_change_me
KONG_PG_DATABASE=kong
KONG_PROXY_LISTEN=0.0.0.0:8000
KONG_ADMIN_LISTEN=0.0.0.0:8001

# ===========================================
# PostgreSQL
# ===========================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=flowforge
POSTGRES_PASSWORD=flowforge_password_change_me
POSTGRES_DB=flowforge

# Kong Database (separate)
KONG_POSTGRES_USER=kong
KONG_POSTGRES_PASSWORD=kong_password_change_me
KONG_POSTGRES_DB=kong

# ===========================================
# Redis
# ===========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_password_change_me
REDIS_DB=0

# ===========================================
# Qdrant Vector Database
# ===========================================
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_API_KEY=

# ===========================================
# Authentication & Security
# ===========================================
JWT_SECRET=your_super_secret_jwt_key_change_me_in_production
JWT_EXPIRATION=24h
API_KEY_HEADER=X-API-Key

# ===========================================
# Service Ports
# ===========================================
CRYPTO_SERVICE_PORT=4001
MATH_SERVICE_PORT=4002
PDF_SERVICE_PORT=4003
OCR_SERVICE_PORT=4004
IMAGE_SERVICE_PORT=4005
LLM_SERVICE_PORT=4006
VECTOR_SERVICE_PORT=4007
DATA_TRANSFORM_SERVICE_PORT=4008
WEB_UI_PORT=3000

# ===========================================
# Service URLs (internal Docker network)
# ===========================================
CRYPTO_SERVICE_URL=http://crypto-service:4001
MATH_SERVICE_URL=http://math-service:4002
PDF_SERVICE_URL=http://pdf-service:4003
OCR_SERVICE_URL=http://ocr-service:4004
IMAGE_SERVICE_URL=http://image-service:4005
LLM_SERVICE_URL=http://llm-service:4006
VECTOR_SERVICE_URL=http://vector-service:4007
DATA_TRANSFORM_SERVICE_URL=http://data-transform-service:4008

# ===========================================
# LLM Service Configuration
# ===========================================
LLM_MODEL_PATH=/models
LLM_DEFAULT_MODEL=
OPENAI_API_KEY=
OPENAI_API_BASE=

# ===========================================
# OCR Service Configuration
# ===========================================
OCR_ENGINE=paddleocr
OCR_LANGUAGES=en,de,fr,es

# ===========================================
# Image Service Configuration
# ===========================================
IMAGE_MAX_SIZE_MB=50
IMAGE_ALLOWED_FORMATS=jpeg,png,webp,gif,tiff,avif

# ===========================================
# PDF Service Configuration
# ===========================================
PDF_MAX_SIZE_MB=100
PDF_TEMP_DIR=/tmp/pdf-processing

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# ===========================================
# Monitoring & Observability
# ===========================================
METRICS_ENABLED=true
METRICS_PORT=9090
TRACING_ENABLED=false
TRACING_ENDPOINT=

# ===========================================
# CORS Configuration
# ===========================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-API-Key,X-Request-ID

# ===========================================
# File Storage
# ===========================================
STORAGE_TYPE=local
STORAGE_PATH=/data/storage
# For S3-compatible storage
S3_ENDPOINT=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET=
S3_REGION=

# ===========================================
# Email (for notifications)
# ===========================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@flowforge.local
